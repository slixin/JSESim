<form name="form.settingsForm" ng-submit="submitForm(settings)" novalidate>
    <div class="modal-header">
        <h3>Market Settings</h3>
    </div>
    <div class="modal-body">
        <div class="panel panel-default">
          <div class="panel-heading">Market Information</div>
          <div class="panel-body">
            <div id="collapseInfo">
              <div class="form-group"">
                  <div class="form-group"">
                      <label>Exchange Type: </label>
                      <span>{{settings.type}}</span>
                  </div>
                  <div class="form-group">
                    <label for="name">Name: </label>
                    <input type="text" name="name" class="form-control" ng-model="settings.name" required />
                    <p ng-show="form.settingsForm.settings.name.$invalid && !form.settingsForm.settings.name.$pristine" class="help-block">Name is required.</p>
                  </div>
                  <div class="form-group"">
                    <label for="descr">Description: </label>
                    <textarea name='descr' style="max-width: 100%" rows="2" class="form-control vresize" ng-model="settings.description" />
                  </div>
                </div>
                <div class="form-group">
                  <label for="parties">Parties: </label>
                  <textarea name='parties' style="max-width: 100%" rows="5" class="form-control vresize" ng-model="settings.parties" required />
                  <p ng-show="form.settingsForm.settings.parties.$invalid && !form.settingsForm.settings.parties.$pristine" class="help-block">Parties are required.</p>
                </div>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading">Order Entry Gateway</div>
          <div class="panel-body">
            <div id="collapseOE">
              <div class="form-group">
                  <label>Spec: </label>
                  <input type="text" class="form-control" ng-model="settings.gateways.orderentry.spec" required />
                  <p ng-show="form.settingsForm.settings.gateways.orderentry.spec.$invalid && !form.settingsForm.settings.gateways.orderentry.spec.$pristine" class="help-block">Spec is required.</p>
              </div>
              <div class="form-group"">
                  <label>Port: </label>
                  <input type="text" class="form-control" ng-model="settings.gateways.orderentry.port" required />
                  <p ng-show="form.settingsForm.settings.gateways.orderentry.port.$invalid && !form.settingsForm.settings.gateways.orderentry.port.$pristine" class="help-block">Port is required.</p>
              </div>
              <div class="form-group"">
                  <label>Recovery Port: </label>
                  <input type="text" class="form-control" ng-model="settings.gateways.orderentry.recoveryport" required />
                  <p ng-show="form.settingsForm.settings.gateways.orderentry.recoveryport.$invalid && !form.settingsForm.settings.gateways.orderentry.recoveryport.$pristine" class="help-block">Recovery Port is required.</p>
              </div>
              <div class="form-group">
                  <label>Accounts: </label>
                  <textarea style="max-width: 100%" rows="5" class="form-control vresize" ng-model="settings.gateways.orderentry.accounts" required />
                  <p ng-show="form.settingsForm.settings.gateways.orderentry.accounts.$invalid && !form.settingsForm.settings.gateways.orderentry.accounts.$pristine" class="help-block">Accounts are required.</p>
              </div>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading">Drop Copy Gateway</div>
          <div class="panel-body">
            <div id="collapseDC">
                <div class="form-group">
                  <label>FIX Version: </label>
                  <input type="text" class="form-control" ng-model="settings.gateways.dropcopy.fixversion" required />
                  <p ng-show="form.settingsForm.settings.gateways.dropcopy.fixversion.$invalid && !form.settingsForm.settings.gateways.dropcopy.fixversion.$pristine" class="help-block">Fix Version is required.</p>
                </div>
                <div class="form-group">
                  <label>Spec: </label>
                  <input type="text" class="form-control" ng-model="settings.gateways.dropcopy.spec" required />
                  <p ng-show="form.settingsForm.settings.gateways.dropcopy.spec.$invalid && !form.settingsForm.settings.gateways.dropcopy.spec.$pristine" class="help-block">Spec is required.</p>
                </div>
                <div class="form-group"">
                  <label>Port: </label>
                  <input type="text" class="form-control" ng-model="settings.gateways.dropcopy.port" required />
                  <p ng-show="form.settingsForm.settings.gateways.dropcopy.port.$invalid && !form.settingsForm.settings.gateways.dropcopy.port.$pristine" class="help-block">Port is required.</p>
                </div>
                <div class="form-group">
                  <label>Options: </label>
                  <textarea style="max-width: 100%" rows="5" class="form-control vresize" ng-model="settings.gateways.dropcopy.options" required />
                  <p ng-show="form.settingsForm.settings.gateways.dropcopy.options.$invalid && !form.settingsForm.settings.gateways.dropcopy.options.$pristine" class="help-block">Options is required.</p>
                </div>
                <div class="form-group">
                  <label>Accounts: </label>
                  <textarea style="max-width: 100%" rows="5" class="form-control vresize" ng-model="settings.gateways.dropcopy.accounts" required />
                  <p ng-show="form.settingsForm.settings.gateways.dropcopy.accounts.$invalid && !form.settingsForm.settings.gateways.dropcopy.accounts.$pristine" class="help-block">Accounts are required.</p>
                </div>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading">Post Trade Gateway</div>
          <div class="panel-body">
            <div id="collapsePT">
                <div class="form-group">
                  <label>FIX Version: </label>
                  <input type="text" class="form-control" ng-model="settings.gateways.posttrade.fixversion" required />
                  <p ng-show="form.settingsForm.settings.gateways.posttrade.fixversion.$invalid && !form.settingsForm.settings.gateways.posttrade.fixversion.$pristine" class="help-block">Fix Version is required.</p>
                </div>
                <div class="form-group">
                  <label>Spec: </label>
                  <input type="text" class="form-control" ng-model="settings.gateways.posttrade.spec" required />
                  <p ng-show="form.settingsForm.settings.gateways.posttrade.spec.$invalid && !form.settingsForm.settings.gateways.posttrade.spec.$pristine" class="help-block">Spec is required.</p>
                </div>
                <div class="form-group"">
                  <label>Port: </label>
                  <input type="text" class="form-control" ng-model="settings.gateways.posttrade.port" required />
                  <p ng-show="form.settingsForm.settings.gateways.posttrade.port.$invalid && !form.settingsForm.settings.gateways.posttrade.port.$pristine" class="help-block">Port is required.</p>
                </div>
                <div class="form-group">
                  <label>Options: </label>
                  <textarea style="max-width: 100%" rows="5" class="form-control vresize" ng-model="settings.gateways.posttrade.options" required />
                  <p ng-show="form.settingsForm.settings.gateways.posttrade.options.$invalid && !form.settingsForm.settings.gateways.posttrade.options.$pristine" class="help-block">Options is required.</p>
                </div>
                <div class="form-group">
                  <label>Accounts: </label>
                  <textarea style="max-width: 100%" rows="5" class="form-control vresize" ng-model="settings.gateways.posttrade.accounts" required />
                  <p ng-show="form.settingsForm.settings.gateways.posttrade.accounts.$invalid && !form.settingsForm.settings.gateways.posttrade.accounts.$pristine" class="help-block">Accounts are required.</p>
                </div>
            </div>
          </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-primary" ng-disabled="form.settingsForm.$invalid">Save</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</form>
